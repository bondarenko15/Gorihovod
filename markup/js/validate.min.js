export default function validate(){var e;function q(e){let t=e.value;return 0<(t=t.trim()).length}function L(e){e.classList.remove("error")}function k(e){e.classList.add("error")}e=".form",(e=document.querySelectorAll(e)||null)&&e.forEach(c=>{let u=new FormData,i=c.querySelector('[name="name"]')||null,d=c.querySelector('[name="phone"]')||null,m=c.querySelector('[name="message"]')||null,h=c.querySelector('[name="email"]')||null,p=c.querySelector('[name="page_name"]')||null,y=c.querySelector(".custom-checkbox")||null,v=c.querySelector(".checkbox_label-modal"),_=document.querySelector(".custom-select__selected")||null,f=document.querySelector(".radio-group")||null,S;var e=c.querySelector(".block_item")||null;let g="";f&&document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".radio-group").addEventListener("change",e=>{"radio"===e.target.type&&(S=e.target.value)})}),e&&(g=`
Товар: ${e.querySelector(".text-title")?.innerText||"Не вказано"}
Ціна: ${e.querySelector(".text-descr")?.innerText||"Не вказано"}
`),i&&i.addEventListener("input",e=>{L(i)}),d&&d.addEventListener("input",e=>{L(d)}),h&&h.addEventListener("input",e=>{L(h)}),m&&m.addEventListener("input",e=>{L(m)}),u.append("action","contact_form"),c&&document.querySelectorAll('[name="phone"]').forEach(e=>{new Inputmask("+38 (099)9999999").mask(e)}),c.addEventListener("submit",e=>{e.preventDefault();e=[];let t,r,a,o,n,l,s;if(_&&(s=_.textContent),f&&(l=S),i&&(t=i.value),d&&(r=d.value),m&&(a=m.value),h&&(o=h.value),p&&(n=p.value),h&&L(h),m&&L(m),i&&L(i),d&&L(d),i&&(!1===q(i)||!1===(e=>{let t=e.value;return/^[a-zA-Zа-яА-Я-]{2,50}$/gm.test(t)})(i)?(e.push("has_error"),k(i)):(L(i),u.set("contact_name",t))),d&&(!1===q(d)||!1===(e=>{let t=e.value,r=t.replace(/\D/g,"");return/^(\d{12})$/.test(r)})(d)?(e.push("has_error"),k(d)):(L(d),u.set("contact_phone",r))),h&&("none"!==window.getComputedStyle(h).display&&(!1===q(h)||!1===(e=>{let t=e.value;return/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t)})(h))?(e.push("has_error"),k(h)):(L(h),u.set("contact_email",o))),p&&u.set("page_referer",n),m&&u.set("contact_msg",a),!y||((e,t)=>{if(e&&t){if(e.checked)return t.classList.remove("error_checkbox"),1;t.classList.add("error_checkbox")}})(y,v)||e.push("has_error"),!e.includes("has_error")){r,t,a,o,n,g,l,s;let e=`---------------------------
\rЗаявка прийшла з: ${n||"Не вказано"} 
\rІм'я користувача: ${t||"Не вказано"}  
\rТелефон користувача: ${r||"Не вказано"}  
\rEmail: ${o||"Не вказано"}  
\rПовідомлення користувача: `+(a||"Не вказано");c.classList.contains("isRadioForm")?e+=`
\rТип горіху: ${l||"Не вказано"} 
\rПослуга: `+(s||"Не вказано"):c.classList.contains("formBuy")&&(e+=g),e+=`
\r---------------------------`,sendMessageToTelegram(token,chatId,e),(async(e,t)=>(t=await fetch(t,{method:"POST",body:e}),e=await t.json()))(u,"/wp-admin/admin-ajax.php").then(e=>{if("SUCCESS"===e.status){c.reset(),document.querySelector(".block_form").style.display="none";let e=document.querySelector(".modal_form"),t=(e.classList.add("modal_formActive"),document.querySelector(".modal_form .modal_thanks"));setTimeout(()=>{t.classList.add("modal_thanskVisible")},300),setTimeout(()=>{t.classList.remove("modal_thanskVisible"),e.classList.remove("modal_formActive")},5300)}else console.log(e.error)}).catch(e=>{console.log(e)})}})})}let sendMessageToTelegram=async(e,t,r)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,t={chat_id:t,text:r};try{var a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Ошибка HTTP: "+a.status);var o=await a.json();console.log("Сообщение отправлено:",o)}catch(e){console.error("Ошибка при отправке сообщения:",e)}},token="7630288196:AAHcIYnJxUqqSiwfxf1ExwyLi8Dc8cSKhYg",chatId="-4682730548";